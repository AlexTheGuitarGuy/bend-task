<div *ngIf="areas && things; else loading">
  <div *ngFor="let area of areas">
    <h3 class="areaName">{{ area.name }}</h3>

    <div class="areaContent">
      <div *ngFor="let thing of things | filterConnected">
        <div *ngIf="thing.areaId === area.areaId" class="relativeWrapper">
          <div class="container">
            <div
              class="marker"
              [ngStyle]="{
                'background-color': getMarkerColor(thing.id)
              }"></div>

            <div class="defaultSku">{{ thing.defaultSku }}</div>

            <div class="sku">{{ thing.sku }}</div>
          </div>
          <div
            *ngFor="let connectedThing of getConnectedThings(thing.id)"
            class="relativeWrapper">
            <div class="connection"></div>
            <div class="container">
              <div class="defaultSku">{{ connectedThing.defaultSku }}</div>

              <div class="sku">{{ connectedThing.sku }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <div>Loading...</div>
</ng-template>
